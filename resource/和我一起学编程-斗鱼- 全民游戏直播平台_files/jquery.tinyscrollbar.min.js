/*! tinyscrollbar - v2.0.0 - 2013-12-30
 * http://www.baijs.com/tinyscrollbar
 *
 * Copyright (c) 2013 Maarten Baijs <wieringen@gmail.com>;
 * Licensed under the MIT license */
!function(b){"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof exports?b(require("jquery")):b(jQuery)}(function(d){function c(ad,ac){function ab(){return U.update(),Z(),U}function aa(){P.css(K,J/G),S.css(K,-J),D=P.offset()[K],R.css(M,H),Q.css(M,H),P.css(M,F)}function Z(){O?T[0].ontouchstart=function(b){1===b.touches.length&&(Y(b.touches[0]),b.stopPropagation())}:(P.bind("mousedown",Y),Q.bind("mouseup",W)),ac.wheel&&window.addEventListener?(ad[0].addEventListener("DOMMouseScroll",X,!1),ad[0].addEventListener("mousewheel",X,!1)):ac.wheel&&(ad[0].onmousewheel=X)}function Y(e){d("body").addClass("noSelect"),D=a?e.pageX:e.pageY,E=parseInt(P.css(K),10)||0,O?(document.ontouchmove=function(b){b.preventDefault(),W(b.touches[0])},document.ontouchend=V):(d(document).bind("mousemove",W),d(document).bind("mouseup",V),P.bind("mouseup",V))}function X(f){if(1>I){var h=f||window.event,g=h.wheelDelta?h.wheelDelta/120:-h.detail/3;J-=g*ac.wheelSpeed,J=Math.min(L-N,Math.max(0,J)),P.css(K,J/G),S.css(K,-J),(ac.wheelLock||J!==L-N&&0!==J)&&(h=d.event.fix(h),h.preventDefault())}}function W(b){1>I&&(mousePositionNew=a?b.pageX:b.pageY,thumbPositionDelta=mousePositionNew-D,ac.scrollInvert&&(thumbPositionDelta=D-mousePositionNew),thumbPositionNew=Math.min(H-F,Math.max(0,E+thumbPositionDelta)),J=thumbPositionNew*G,P.css(K,thumbPositionNew),S.css(K,-J))}function V(){d("body").removeClass("noSelect"),d(document).unbind("mousemove",W),d(document).unbind("mouseup",V),P.unbind("mouseup",V),document.ontouchmove=document.ontouchend=null}var U=this,T=ad.find(".viewport"),S=ad.find(".overview"),R=ad.find(".scrollbar"),Q=R.find(".track"),P=R.find(".thumb"),N=0,L=0,J=0,I=0,H=0,G=0,F=0,E=0,D=0,a="x"===ac.axis,O="ontouchstart" in document.documentElement,M=a?"width":"height",K=a?"left":"top";return this.update=function(b){switch(sizeLabelCap=M.charAt(0).toUpperCase()+M.slice(1).toLowerCase(),N=T[0]["offset"+sizeLabelCap],L=S[0]["scroll"+sizeLabelCap],I=N/L,H=ac.trackSize||N,F=Math.min(H,Math.max(0,ac.thumbSize||H*I)),G=ac.thumbSize?(L-N)/(H-F):L/H,R.toggleClass("disable",I>=1),b){case"bottom":J=L-N;break;case"relative":J=Math.min(L-N,Math.max(0,J));break;default:J=parseInt(b,10)||0}aa()},ab()}d.tiny=d.tiny||{},d.tiny.scrollbar={options:{axis:"y",wheel:!0,wheelSpeed:40,wheelLock:!0,scrollInvert:!1,trackSize:!1,thumbSize:!1}},d.fn.tinyscrollbar=function(b){var a=d.extend({},d.tiny.scrollbar.options,b);return this.each(function(){d(this).data("tsb",new c(d(this),a))}),this},d.fn.tinyscrollbar_update=function(a){return d(this).data("tsb").update(a)}});